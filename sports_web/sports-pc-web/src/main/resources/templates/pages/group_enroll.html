<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- <meta name="viewport" content="inital-scale=1.0,user-scalable=yes;"> -->
    <meta name="description" content="">
    <meta name="author" content="">
    <title>运动员报名信息</title>
    <!-- Custom styles for this template -->
    <link href="${stx}/css/layout.css" rel="stylesheet">
    <link href="${stx}/css/validate.css" rel="stylesheet"> 
   <!--  <link rel="stylesheet" href="${stx}/laydate/theme/default/laydate.css"> -->
    <link rel="stylesheet" href="${stx}/layui/css/layui.css" media="all">
    <style>
    	.description-wrap{
    		position:absolute;
    	}
    	.upload-wrap{margin-bottom: 20px;}
    	
    	[v-cloak] {
			display: none !important;
			}
    </style>
</head>
    <body class="sign_backimg">
     <#include "common/alert.html">
		<div class="modal_agreement">
			 <div class="agreement_content">
			 	  <p class="close" id="close"><img src="${stx}/img/icon_cl.png"></p>
			 	  <div class="content">
			 	  	<p>免责声明</p>
						<p>
				  <span class="f_14">参赛者承诺</span><br>
					本人自愿报名参加本次赛事（以下统称“比赛”），并承诺已全面了解、同意遵守由首届全国智能体育大赛组委会及承办机构（以下统称“组办方”）制定的各项比赛规则、规程、规定、要求及采取的措施，并承担由于违反以上规定造成损失的全部责任。已为参加比赛做好充分准备，并确认自身身体条件和精神健康状况方面符合参加比赛的各项要求，本人认识到在参加比赛时存在对自身造成伤害的风险，包括终生残疾或死亡，本人承认并接受此风险的存在。本人不会为此追究比赛组织方、比赛赞助方、赛事裁判和工作人员的任何责任。
					本人对参赛可能发生的各种风险和意外已作了全面、审慎的评估，并愿意自行承担由此产生的一切后果。本人保证在参赛过程中为个人安全负责。本人同意“组织方”有权利无偿使用本人的姓名和肖像以及其它个人资料进行各项宣传活动。
					本人或法定代理人已认真阅读并理解上述内容，现予以确认。<br>
					特此承诺。
				</p>
				<p>
				<span class="f_14">赛事参赛声明</span><br>
                                          注：请所有参赛选手报名之前务必认真、仔细阅读本赛事所有赛事信息及参赛者承诺，在您提交报名信息后即被默认为您已阅读、理解并同意遵守本赛事规则中的一切内容并签署及提交免责声明。作为参赛选手、我本人、我的监护人、管理人、法定代理人以及任何可能代表我提起赔偿请求或诉讼的人做出以下声明：<br>
                1、本人自愿参加本次比赛，我确认本人具有参加赛事相应的民事行为能力和民事责任能力，并且已获得监护人的同意；<br>
				2、本人确认全面理解并同意首届全国智能体育大赛制定的各项比赛规则、规程、规定、要求及采取的措施。<br>
				3、本人确认已认真阅读了组织方就选手参加本次赛事可能发生的一切风险（包括但不限于因参加本次比赛所可能产生的人身伤亡风险）的提示，我在此明确同意将自行承担因参加本次比赛所可能产生的一切风险和责任。<br>
				4、本人承诺已通过正规医疗机构进行体检，并结合检查报告进行自我评估，确认自己的身体状况能适应本次比赛中的相关运动，本人认识到在参加比赛时存在对自身造成伤害的风险，包括终生残疾或死亡，本人承认并接受此风险的存在。承诺愿意承担参赛可能带来的一切风险（包括但不限于因参加本次比赛所可能产生的人身伤亡风险）；<br>
				5、本人参加此次比赛以及参赛全过程所发生的人身伤害、局部或永久性伤残、死亡、医疗或住院费用、财产损坏、任何形式的盗窃或财产损失等事项，由我自己承担全部责任，免除组织方责任，组织方对此不承担任何形式的赔偿，本人不会为此追究比赛组织方、比赛赞助方、比赛裁判和工作人员的任何责任；<br>
				6、本人授权比赛组织方及指定媒体无偿使用本人的肖像、姓名、声音等用于首届全国智能体育大赛的宣传与推广；<br>
				</p>
				<p>
				<span class="f_14">组委会特别提示有以下疾病患者不宜参加比赛：</span><br>
				先天性心脏病和风湿性心脏病患者；<br>
				高血压和脑血管疾病患者；<br>
				心肌炎和其它心脏病患者；<br>
				冠状动脉病患者和严重心率不齐者；<br>
				血糖过高或过少的糖尿病患者；<br>
				其它不适合运动的疾病患者。<br>
				</p>	 	  		
			 	  </div>
			 </div>
		</div>

        <#include "common/nav.html">
      
      
      <div id="groupSignup" v-cloak>  
        
        <!-- 参赛人员弹框  -->
        <div class="group_modal" id="groupModal" v-show="isShowModal">
			<div class="signUp_from_group">	  	     
	 	  	     <div class="container from_table_group">
	 	  	     	  <div class="order">  
						   <span style="white-space:pre;">  </span><span class="line"></span>  
						   <span style="white-space:pre;">  </span><span class="txt">个人信息</span>  
						   <span style="white-space:pre;">  </span><span class="line"></span>  
					  </div> 
					  <form class="entyr_from" id="entyr_from_group" @submit.prevent="submitFrom" method="post">
						  <table class="user_msy" cellspacing="0" cellpadding="0" >
						  	<tr>
						  		<td class="name"><span class="star">*</span>真实姓名</td>
						  		<td class="input_box"><input type="text" name="playerName" id="playerName" placeholder="请输入真实姓名" v-model="fromText.playerName" data-required="true" data-descriptions="playerName" data-describedby="playerName-description" size="18" value="">
						  			<div id="playerName-description" class="description-wrap"></div>
						  		</td>				  		
						  	</tr>
						  	
						  	<tr>
						  		<td class="name"><span class="star">*</span>性别</td>
						  		<td class="input_box">
						  			<div class="sex">
										<div class="male">
											<span class="female-custom active"></span>
										    <input type="radio" name="sex" data-required="true" checked="checked"  value="m" v-model="fromText.sex" data-descriptions="sex"  id="male"> <label for="male">男</label>
									    </div>
									    <div class="female">
										    <span class="female-custom"></span>
										    <input type="radio"  name="sex" data-required="true" value="f" data-descriptions="sex" v-model="fromText.sex"  id="female"> <label for="female">女</label>						    
									    </div>
								
									</div>
						  		</td>				  		
						  	</tr>
						  	<tr>
						  		<td class="name"><span class="star">*</span>手机号码</td>
						  		<td class="input_box" id="y_num"><input type="text" id="tel" name="playerPhone" placeholder="请输入手机号码" v-model="fromText.playerPhone" data-required="true"  data-validate="playerPhone" data-describedby="phone-description">
						  		    <div id="phone-description" class="description-wrap"></div>
						  		</td>				  	
						  			
						  	</tr>
	
		<!-- 				  	<tr>
						  		<td class="name"><span class="star">*</span>验证码</td>
						  		<td class="input_box">
							  		<span class="verifyCode"><input type="text" placeholder="请输入验证码" name="verifyCode" v-model="fromText.verifyCode" id="verifyCode" data-required="true" data-conditional="verifyCode" data-describedby="verifyCode-description"  data-descriptions="verifyCode">
							  		<a class="yzm" onclick="getCode(this)">发送验证码</a>
							  		</span>
							  	    <div id="verifyCode-description" class="description-wrap"></div>
							  	</td>
		
						  	</tr> -->
						  	

						  							  	
		                    <!-- 动态添加 -->				  	
							 	<tr v-show="dynamicData.playerNationality && dynamicData.playerNationality.isShow">
							  	    <td class="name name_left">						  			
								  		<span class="star">*</span>国籍</td>
							  		<td>
								  		<input type="text" placeholder="请输入国籍" name="playerNationality" id="playerNationality" v-model="fromText.playerNationality" 
								  		:data-required="dynamicData.playerNationality && dynamicData.playerNationality.isShow" data-descriptions="playerNationality" data-describedby="playerNationality-description" size="18" value="">
							  		   <div id="playerNationality-description" class="description-wrap"></div>	
							  		</td>
							  	</tr>
	
							   	<tr v-show="dynamicData.playerWeight && dynamicData.playerWeight.isShow">
							  	    <td class="name name_left">
								  		<span class="star">*</span>体重</td>
							  		<td>
								  			<input type="text" placeholder="请输入体重(KG)" name="playerWeight"  id="playerWeight" v-model="fromText.playerWeight" 
								  			:data-required="dynamicData.playerWeight && dynamicData.playerWeight.isShow" data-descriptions="playerWeight"  data-describedby="playerWeight-description" size="18" value="">
							  		   <div id="playerWeight-description" class="description-wrap"></div>
							  		</td>
							  	</tr> 
	
								<tr v-show="dynamicData.playerBloodType && dynamicData.playerBloodType.isShow">
									<td class="name name_left">
								  			<span class="star">*</span>血型</td>
									<td>
									    <input type="text" placeholder="血型" name="playerBloodType" id="playerBloodType" v-model="fromText.playerBloodType" 
									    :data-required="dynamicData.playerBloodType && dynamicData.playerBloodType.isShow" data-descriptions="playerBloodType" data-describedby="playerBloodType-description" size="18" value="fromText.playerBloodType">																
									  <div id="playerBloodType-description" class="description-wrap"></div>
									</td>
								</tr>
	
							  	<tr v-show="dynamicData.playerCerType && dynamicData.playerCerType.isShow">
							  		<td class="name">
								  			<span class="star">*</span>证件类型</td>
							  		<td class="input_box">
							  			<select name="playerCerType" id="playerCerType" v-model="fromText.playerCerType"  @change="selectVal" 
							  			:data-required="dynamicData.playerCerType && dynamicData.playerCerType.isShow" data-descriptions="playerCerType" data-describedby="playerCerType-description" >
							  				<option v-for="test in tests" :value="test.value">[[test.text]]</option>
							  			</select>
							  			<div id="playerCerType-description" class="description-wrap"></div>
							  		</td>	
							  				  		
							  	</tr>
								  						 		  							  								  	
							  	<tr v-show="dynamicData.playerBirth && dynamicData.playerBirth.isShow">
							  		<td class="name">
								  		<span class="star">*</span>出生年月
								  	</td>
							  		<td class="input_box">
							  		    <input type="text" class="layui-input" name="playerBirthStr" id="dayDate"  v-model="fromText.playerBirthStr"
							  		    :data-required="dynamicData.playerBirth && dynamicData.playerBirth.isShow" data-descriptions="playerBirthStr" data-describedby="playerBirthStr-description" value="" readonly="" placeholder="出生年月" style="cursor:pointer">						  		    
							  			
							  			<div id="playerBirthStr-description" class="description-wrap"></div>
							  		</td>						  								  								  		
							  	</tr> 
							   	<tr v-show="dynamicData.playerCerNo && dynamicData.playerCerNo.isShow">
							  	    <td class="name name_left">
								  		<span class="star">*</span> 证件号码</td>
							  		<td>
								  		<input type="text" placeholder="请输入您的证件号码" name="playerCerNo" id="playerCerNo" v-model="fromText.playerCerNo"
								  		:data-required="dynamicData.playerCerNo && dynamicData.playerCerNo.isShow" data-descriptions="playerCerNo" data-describedby="playerCerNo-description"  value="">
							  		
							  		    <div id="playerCerNo-description" class="description-wrap"></div>
							  		</td>
							  	</tr>
	
								<tr v-show="dynamicData.playerEmergencyName && dynamicData.playerEmergencyName.isShow">
									<td class="name name_left">
								  		<span class="star">*</span>紧急联系人</td>
									<td>
									   <input type="text" placeholder="紧急联系人" name="playerEmergencyName" id="playerEmergencyName" v-model="fromText.playerEmergencyName"
									   :data-required="dynamicData.playerEmergencyName && dynamicData.playerEmergencyName.isShow" data-descriptions="playerEmergencyName" data-describedby="playerEmergencyName-description"  value="">
									
									   <div id="playerEmergencyName-description" class="description-wrap"></div>
									</td>
								</tr>
	
					 		  	<tr v-show="dynamicData.playerEmergencyPhone && dynamicData.playerEmergencyPhone.isShow">
							  		<td class="name name_left">
								  		<span class="star">*</span>紧急联系电话</td>
							  		<td>						  		    
							  		    <input type="text" placeholder="请输入您的紧急联系电话" name="playerEmergencyPhone" id="playerEmergencyPhone" v-model="fromText.playerEmergencyPhone"
							  		    :data-required="dynamicData.playerEmergencyPhone && dynamicData.playerEmergencyPhone.isShow"  data-descriptions="playerEmergencyPhone" data-describedby="playerEmergencyPhone-description">						  		
							  		  <div id="playerEmergencyPhone-description" class="description-wrap"></div>
							  		</td>
							  	</tr> 
	
							  	<tr v-show="dynamicData.playerHeight && dynamicData.playerHeight.isShow">
							  		<td class="name">
								  			<span class="star">*</span>身高</td>
							  		<td class="input_box">
	
							  		<input type="text"  placeholder="请输入身高(CM)" name="playerHeight" id="playerHeight" v-model="fromText.playerHeight"
							  		:data-required="dynamicData.playerHeight && dynamicData.playerHeight.isShow"  data-descriptions="playerHeight"  data-describedby="playerHeight-description">
							  		
							  		  <div id="playerHeight-description" class="description-wrap"></div>
							  		</td>
							  		
							  	</tr>
	
					 		  	<tr v-show="dynamicData.playerWorkUnit && dynamicData.playerWorkUnit.isShow">
							  	    <td class="name name_left">
								  		<span class="star">*</span>  工作单位
								  	</td>
							  		<td>
							  		 <input type="text" placeholder="请输入您的工作单位" name="playerWorkUnit" id="playerWorkUnit" v-model="fromText.playerWorkUnit"
							  		 :data-required="dynamicData.playerWorkUnit && dynamicData.playerWorkUnit.isShow" data-descriptions="playerWorkUnit" data-describedby="playerWorkUnit-description" size="18" value="">
							  		
							  		 <div id="playerWorkUnit-description" class="description-wrap"></div>
							  		</td>
							  	</tr>  
	
	
							  	<tr v-show="dynamicData.email && dynamicData.email.isShow">
							  		<td class="name name_left">
								  			<span class="star">*</span>邮箱
								  	</td>
							  		<td>
							  		    <input type="text" placeholder="请输入您的邮箱" name="email" id="email" v-model="fromText.email"
							  		    :data-required="dynamicData.email && dynamicData.email.isShow" data-descriptions="email"   data-describedby="email-description">						  		
							  		    <div id="email-description" class="description-wrap"></div>
							  		</td>
							  	</tr> 
	
							  	<tr v-show="dynamicData.playerClothSize && dynamicData.playerClothSize.isShow">
							  		<td class="name">
								  		<span class="star">*</span>衣服尺码
								  	</td>
							  		<td class="input_box">
							  		    <input type="text" placeholder="请输入您的衣服尺码(如M,L,XL等)" name="playerClothSize" id="playerClothSize" v-model="fromText.playerClothSize"
							  		    :data-required="dynamicData.playerClothSize && dynamicData.playerClothSize.isShow" data-descriptions="playerClothSize" data-describedby="playerClothSize-description" size="18" value="">
							  		
							  			<div id="playerClothSize-description" class="description-wrap"></div>
							  		</td>				  		
							  	</tr>
							  	<tr v-show="dynamicData.playerNation && dynamicData.playerNation.isShow">
							  	    <td class="name name_left">
								  		<span class="star">*</span>民族
								  	</td>
							  		<td>
							  		    <input type="text" placeholder="请输入您的民族" name="playerNation" id="playerNation" v-model="fromText.playerNation"
							  		    :data-required="dynamicData.playerNation && dynamicData.playerNation.isShow" data-descriptions="playerNation" data-describedby="playerNation-description" size="18" value="">
							  	
							  		<div id="playerNation-description" class="description-wrap"></div>
							  		</td>
							  	</tr>
							  	<tr v-show="dynamicData.playerAddress && dynamicData.playerAddress.isShow">
							  		<td class="name">
								  		<span class="star">*</span>联系地址
								  	</td>
							  		<td class="input_box">
							  			<input type="text" placeholder="请输入您的联系地址" name="playerAddress" id="playerAddress" v-model="fromText.playerAddress" 
							  			:data-required="dynamicData.playerAddress && dynamicData.playerAddress.isShow" data-descriptions="playerAddress" data-describedby="playerAddress-description" size="18" value="">						  	
							  		    <div id="playerAddress-description" class="description-wrap"></div>
							  		</td>
							  	</tr>
	
						  		<tr v-show="dynamicData.assettoId && dynamicData.assettoId.isShow">
							  	    <td class="name name_left">
								  		<span class="star">*</span>神力科莎游戏昵称
								  	</td>
							  		<td>
							  		    <input type="text" placeholder="请输入神力科莎游戏昵称" name="assettoId" id="assettoId" v-model="fromText.assettoId"
							  		    :data-required="dynamicData.assettoId && dynamicData.assettoId.isShow" data-descriptions="assettoId" data-describedby="assettoId-description" size="18" value="">
							  		    <div id="assettoId-description" class="description-wrap"></div>
							  		</td>
							  	</tr> 
							  	 <tr v-for="(expand, index) in formTextExtPro">
							  	    <td class="name name_left">
								  		<span class="star">*</span>[[expand.name]]
								  	</td>
							  		<td>
							  		    <input type="text" placeholder="" name="expandsId" id="expandsId" v-model="expand.data" size="18" value="">
							  		    <div v-if="expand.data == '' "  id="expandsId-description" class="description-wrap"></div>
							  		</td>
							  	</tr>  
						  </table>
		
					  <div class="order" v-show="dynamicData.playerCerType && dynamicData.playerCerType.isShow">  
						   <span style="white-space:pre;">  </span><span class="line"></span>  
						   <span style="white-space:pre;">  </span><span class="txt">其他信息</span>  
						   <span style="white-space:pre;">  </span><span class="line"></span>  
					  </div> 
					  <div v-show="dynamicData.playerCerType && dynamicData.playerCerType.isShow" class="upload_group flex flex-pack-justify clear">	
		                    <div class='upload-wrap sf-upload clear' v-if="fromText.playerCerType == '1' " style='display:block'>			
			    				<div class="layui-upload-group pull-left">
			    					  <img class="layui-upload-img" id="demo3">
			                          <div class="upload_icon" id="uploadone-sf1"><span>上传 身份证正面</span></div>
			                          <!--<input type="hidden" id="att_sf1" name="att_one" v-model="fromText.attOne"/>-->
			                    </div>
			                    <div class="pull-left alert_txt alert_txt_margin">
			                    	<span class="star">*</span>格式：.jpg,.png,.jpeg<br>
			                    	大小：限制1M
			                    </div>		
			    				<div class="layui-upload-group pull-left ">
			    					  <img class="layui-upload-img" id="demo4">
			                          <div class="upload_icon" id="uploadone-sf2"><span>上传 身份证反面</span></div>
			                          <!--<input type="hidden" id="att_sf2" name="att_two" v-model="fromText.attTwo"/>-->
			                    </div>
			                    <div class="pull-left alert_txt alert_txt_margin">
			                    	<span class="star">*</span>格式：.jpg,.png,.jpeg<br>
			                    	大小：限制1M
			                    </div>
		                    </div>
		                    <div class='upload-wrap hz-upload clear' v-if="fromText.playerCerType == '2' ">			
			    				<div class="layui-upload-group pull-left">
			    					  <img class="layui-upload-img" id="demo5">
			                          <div class="upload_icon" id="uploadone-hz"><span>上传护照</span></div>
			                          <!--<input type="hidden" id="att_hz" name="att_one" v-model="fromText.attOne"/>-->
			                    </div>
			                    <div class="pull-left alert_txt alert_txt_margin">
			                    	<span class="star">*</span>格式：.jpg,.png,.jpeg<br>
			                    	大小：限制1M
			                    </div>
		                    </div>
	
		                    <div class='upload-wrap jz-upload clear' v-if="fromText.playerCerType == '4' ">			
			    				<div class="layui-upload-group pull-left">
			    					  <img class="layui-upload-img" id="demo2">
			                          <div class="upload_icon" id="uploadone-jz"><span>上传军官证</span></div>
			                          <!--<input type="hidden" id="att_jz" name="att_one" v-model="fromText.attOne"/>-->
			                    </div>
			                    <div class="pull-left alert_txt alert_txt_margin">
			                    	<span class="star">*</span>格式：.jpg,.png,.jpeg<br>
			                    	大小：限制1M
			                    </div>
		                    </div>
	    			  </div>
			    			 
	    			  <p class="next_btn next_btn_group">
	    			  	<a class="save_btn group_btn"  style="cursor:pointer" @click="clearOrder">取消</a>
	    			  	<a class="sumbit_btn group_btn"  id="commitGroup"><input style="cursor:pointer" type="submit"  value="确定" /></a>
	    			  </p>
	 	  	         </form>
	 	  	     </div>	 	  	        
			</div>
		</div>	
		
		<!-- 团体报名  -->	
		
		<div class="signUp_from">	  	     
 	  	     <div class="container from_table">
 	  	     	  <div class="order">  
					   <span style="white-space:pre;">  </span><span class="line"></span>  
					   <span style="white-space:pre;">  </span><span class="txt">团队信息</span>  
					   <span style="white-space:pre;">  </span><span class="line"></span>  
				  </div> 
				  <form class="entyr_from" id="entyr_from" @submit.prevent="submitGroupFrom" method="post">
	 				  <table class="user_msy" cellspacing="0" cellpadding="0" >
					  	<tr>
					  		<td class="name">团队名称</td>
					  		<td class="input_box"><input type="text" name="teamName" v-model = "fromGroupText.teamName" id="teamName" placeholder="请输入团队名称" data-required="true" data-descriptions="teamName" data-describedby="teamName-description" size="18" value="">
					  			<div id="teamName-description" class="description-wrap"></div>
					  		</td>				  		
					  	</tr>
					  	
					  	<tr>
					  		<td class="name"><span class="star">*</span>手机号码</td>
					  		<td class="input_box" id="y_num"><input type="text" id="telNum"  v-model = "fromGroupText.leaderPhone"  name="leaderPhone" placeholder="请输入手机号码" data-required="true"  data-validate="leaderPhone" data-describedby="leaderPhone-description">
					  		    <div id="leaderPhone-description" class="description-wrap"></div>
					  		</td>				  	
					  			
					  	</tr>
					  	
					    <tr>
					  		<td class="name"><span class="star">*</span>领队姓名</td>
					  		<td class="input_box"><input type="text" name="leaderName" id="leaderName"  v-model = "fromGroupText.leaderName"  placeholder="请输入领队姓名" data-required="true" data-descriptions="leaderName" data-describedby="leaderName-description" size="18" value="">
					  			<div id="leaderName-description" class="description-wrap"></div>
					  		</td>				  		
					  	</tr>

					  	<tr>
					  		<td class="name"><span class="star">*</span>验证码</td>
					  		<td class="input_box">
						  		<span class="verifyCode"><input type="text" placeholder="请输入验证码"  v-model = "fromGroupText.verifyCode"  name="verifyCode2" id="verifyCode2" data-required="true" data-conditional="verifyCode2" data-describedby="verifyCode2-description"  data-descriptions="verifyCode2">
						  		<a class="yzm_g" onclick="getCodeGroup(this)">发送验证码</a>
						  		</span>
						  	    <div id="verifyCode2-description" class="description-wrap"></div>
						  	</td>
	
					  	</tr>					  	
					  </table> 

					 
					  <!-- 团队人员信息  -->
					  <table class="team_staff" v-if="groupMsy.length">
					        <tr>
					            <th>序号</th>
					            <th>姓名</th>
					            <th>手机号</th>
					            <th>性别</th>
					            <th>操作</th>
					        </tr>
					        <tr v-for="(Personnel,index) in groupMsy">
					            <td>[[index+1]]</td>
					            <td>[[Personnel.playerName]]</td>
					            <td>[[Personnel.playerPhone]]</td>
					            <td>[[Personnel.sex == 'm' ? ' 男 ' : ' 女 ']]</td>
					            <td>
					                <span class="look_text" @click="seeForm(Personnel.playerCode)"><i class="look_img"></i> 查看</span>
					                <span class="delete_text" @click=del(index,Personnel.playerCode)><i class="delete_img"></i>删除</span>
					            </td>
					        </tr>
					  </table>
					 
					  <p  class="addTeam" @click="addTeam(groupMsy.length)"> 
					  <img v-if="groupMsy.length == groupLimit && groupLimit != 0" src="${stx}/img/btn_zhihui.png">
					  <img v-else-if="groupMsy.length <= groupLimit || groupLimit == 0" src="${stx}/img/icon_jchengy.png">
					  <span v-if="groupLimit !== 0">([[groupMsy.length]]/[[groupLimit]]人)</span>
					  <span v-if="groupLimit == 0">(至少2人)</span>
					  </p>
					 
					  <!-- 支付方式  --> 
	    			  <div class="order">  
						   <span style="white-space:pre;">  </span><span class="line"></span>  
						   <span style="white-space:pre;">  </span><span class="txt">支付方式</span>  
						   <span style="white-space:pre;">  </span><span class="line"></span>  
					  </div> 
				  
					  <div class="pay_choose">
					       <a class="weixin first active" data-name="wechatpay">
					            <img src="${stx}/img/icon_xzzf.png" style="display:block;">
					       </a>
					       <!-- <a class="zhifub" data-name="alipay" >
					          <img src="${stx}/img/icon_xzzf.png">
					       </a> -->
					       <input type="hidden" id="type" value="wechatpay">
					  </div>
	    			  <p class="check_read flex flex-align-center">
	    			   	<span class="awesome">
		    			   	<input type="checkbox" id="awesome" />
		                    <label for="awesome"></label>
	    			   	</span>
	    			    <span>我已经阅读并接受<span class="f_c" id="agreement_content">《免责声明》</span></span><br>
	    			     <span class="alert_xy" id="Agreement" style="display:none">请阅读并接受免责声明</span> 
	    			  </p>
    			 
	    			  <p class="next_btn">
	    			  	<a class="save_btn"  style="cursor:pointer" id="saveOrder" @click="saveOrder">保存信息</a>
	    			  	<a class="sumbit_btn"  id="commitOrder"><input style="cursor:pointer" type="submit"  value="提交报名信息" /></a>
	    			  </p>
 	  	      	 </form>
 	  	     </div>
		</div>
		
	</div>
		<#include "common/footer.html">
	</body>
	<script type="text/javascript" src="${stx}/js/jquery-2.1.1.min.js"></script>
	<script src="${stx}/js/vue.js"></script>
	<script src="${stx}/js/config.js"></script>
    <script src="${stx}/js/jquery-mvalidate.js"></script> 
	<script src="${stx}/js/config.js"></script>
	<script src="${stx}/layui/layui.all.js" charset="utf-8"></script>
	<script>
	var path = "${ctx}", btnDisable = false, yzmTimeOut = null;
	
	var vm = null;var orderCode = '${orderCode}';

	var vueData = {
		addType: 'add',
		
		yzm_time: 0,
		yzmgroup_time: 0,
		
	    fromText:{
	    	sex:'m',
	    	attOne:'',
	    	attTwo:'',
	        orderCode:orderCode, 
	    	playerCerType: 1	
	    /* 	extPro:'[{"动态属性1":"1"},{"动态属性2":"1"}]' */
	    },
	    formTextExtPro: [],
	    fromGroupText:{
	    	type:'wechatpay',
	        orderCode:orderCode, 
	    },
	    
	    groupMsy:[],    //添加团队人员信息
	    
	    successData:{},  //成功表单返回数据
	    dynamicData:{},
	    
	    matchCode:'',
	    
	    orderCode:'',
	    
	    playerCode:'',
	    
	    playerid:'',
	    
	    groupLimit:'',
	    
	    isShowModal:false,
	    
	    tests: [
	        { value: 1, text: '身份证' },
	        { value: 2, text: '护照' },
	      /*   { value: 3, text: '驾照' }, */
	        { value: 4, text: '军官证' },
	    ]
	}
	
	
	/**
	 * 页面加载完毕 $.ready
	 */	
	$(function(){	
		
		    vueInit();
		    				
			teamFromSumit();       //团队页面信息提交验证 
			
			entyr_from_group();    //弹框团队人员信息表单验证   
			
			validateInit();
			
			pageInt()
                      
	 });
	
	
	
	  /**
	   * vue初始化，dom操作
	   */     
     function vueInit(){
	   		 vm = new Vue({
				 delimiters: ['[[', ']]'],
				 el:"#groupSignup",
				 data:vueData ,
				 methods:{
					 submitFrom:submitFrom,
					 submitGroupFrom:submitGroupFrom,
					 clearOrder:clearOrder,
					 addTeam:addTeam,
					 selectVal:selectVal,
					 //addMsy:addMsy,  
					 del:del,
					 seeForm:seeForm,
					 saveOrder:saveOrder,
				 },
			    created:function(){
			    	//uploadCertificates()
			    },
				 updated:function(){
					 //uploadCertificates()
				 },
				 mounted: function() {
					 //uploadCertificates();
				 }
			 });
	   		

	  	   var str = window.location.href;
	  	  var matchCode = '${matchCode}';
	  	  vueData.matchCode = matchCode;
	  	  var groupLimit =  '${groupLimit}'
	  	  vueData.groupLimit =groupLimit;
	  	  console.log(vueData.groupLimit)
	  	  
     };
     
     
     
	
     // 取消弹框 清楚输入框样式 
	function clearOrder(){
		//entyr_from_group();
		vueData.isShowModal = false;
		
	 	 for(var key in vueData.fromText){
	 		 
	 		 if(key == 'orderCode'){
	 			vueData.fromText[key] = orderCode;
	 		 }else if(key == 'playerCerType'){
	 			vueData.fromText[key] = 1;
	 		 }else if(key == 'sex') {
	 			vueData.fromText[key] = 'm';
	 		 }else {
	 			vueData.fromText[key] = '';
	 		 }
	 	 };
	 	 
	 	 console.log(vueData.fromText)
	 	 vueData.formTextExtPro.forEach(function(h){
	 		h.data = ''; 
	 	 });
	 	 
	 	 
		$("#male").siblings("span").addClass("active").parents("div").siblings("div").children("span").removeClass("active");;
	
	} 
    
	// 添加成员信息 
	function addTeam(a){
		console.log(vueData.groupLimit)
		if(a >= vueData.groupLimit && vueData.groupLimit>0) {
      		$("#animationTipBox").show();
     		$("#animationTipBox .dec_txt").text('添加成员已满'+a+'人  ')
     		 setTimeout(function(){
     			$("#animationTipBox").css("display","none");
     			},
     			3000)
     			return;
		}
			
		console.log(11111)
		this.isShowModal = true;
		this.addType = 'add';
		console.log(this.fromText)
		getResultMethods("${ctx}/order/query/dynamicAttr", {matchCode:vueData.matchCode}, function(d) {
    		console.log(d)
    		vueData.dynamicData = d;
    		if(d.expands.length) {
    			vueData.formTextExtPro = d.expands.map(function(k) {
    				var item = {};
    				if(k.isShow) {
    					item = {
    						name: k.name,
    						data: '',
    						isRequired: k.isRequired
    					}
    				};
    				return item;
    			});
    		}
    		
    		console.log(vueData.formTextExtPro)
		});
		
		vueData.fromText.playerCerType = 1;
		uploadCertificates();
	}
	
	
	// 查看成员信息 
	function seeForm(playerCode){
		
		this.isShowModal = true;
		this.addType = 'edit';
		this.fromText.playerCode = playerCode; 
		 getResultMethods("${ctx}/order/query/player", {playerCode:playerCode}, function(d) {
			 console.log(d.player)
			 var extpro = JSON.parse(d.player.extPro);
			 
			 for(var key in vueData.fromText) {
				 if(key != 'orderCode') {
					 vueData.fromText[key] = d.player[key];
				 }
			 };
			 
			 vueData.formTextExtPro.forEach(function(h){
				d.player.array.forEach(function(k) {
					if(h.name == k.key) h.data = k.value
				});
			 });
			 
			 console.log(vueData.fromText)
		});		 		 
	}
	
	function selectVal(){
		uploadCertificates();
		vueData.fromText.attOne = '';
		vueData.fromText.attTwo = '';
	}
	
	// 添加成员信息 数据提交 
     function submitFrom(){
    	 //vueData.fromText = this.fromText
    	//console.log(vueData.fromText)
     }
     
  // 团体报名 信息 数据提交 
     function submitGroupFrom(){
    	 vueData.fromGroupText= this.fromGroupText
    	 console.log(vueData.fromGroupText)
     }
     
  // 保存信息 
  function saveOrder(){
      $.ajax({
          url:  "${ctx}/order/save/group",
          data:vueData.fromGroupText ,
          type: 'post',
          dataType: 'json',
          success: function(data) {		                	 			                			                	 			                	 			                
          	if(data.resultCode!=200){
          		var errMsg = data.resultMsg;
          		if(data.resultCode==206){
          			//验证码错误
          			console.log('206'+errMsg);
          			 $("#verifyCode2-description").html(errMsg) 
          			 	$('html , body').animate({scrollTop: 0});
                			$("#verifyCode2").focus(function(){
          				
          			     if(($("#verifyCode2").val()).length!=0){
          			     
          			    	$("#verifyCode2-description").html('') 
          			     }		                 				
          				
          			});

          			 
          			return ;
          		}
          		if(data.resultCode==202){
         		
         		     $("#animationTipBox").show();
		        		$("#animationTipBox .dec_txt").text(errMsg);
		        		 $('html , body').animate({scrollTop: 0});
		        		 setTimeout(function(){
		        			$("#animationTipBox").css("display","none");
		        			},
		        			3000)
         			
         			return ;
         		}
          		$(".alert").html(errMsg).show();
          	}else{
          		/* var url = data.result.url */
          		$("#animationTipBox").show();
		        		$("#animationTipBox .dec_txt").text('保存成功 ');
		        		 $('html , body').animate({scrollTop: 0});
		        		 setTimeout(function(){
		        			$("#animationTipBox").css("display","none");
		        			},
		        			3000)                  		
          	}
          }
      });
  }
     
     // 删除
     function del(index,playerCode){
    	 console.log(index)
    	 this.groupMsy.splice(index, 1);
    	 getResultMethods("${ctx}/order/player/delete", {playerCode:playerCode}, function(d) {
			 console.log(data.resultMsg)	 
		});	
     }

     // 页面DOM操作 
     function pageInt(){
    	     	       	  
			layui.use('laydate', function(){
				  var laydate = layui.laydate;
				  
					 laydate.render({
						    elem: '#dayDate',
						    type:'date',
						    done: function(value, date){
						       vueData.fromText.playerBirthStr = value;
						      }
						});
			});
			
			$("#male").click( function () {
			    $(this).siblings("span").addClass("active");
			    $(this).parents("div").siblings("div").children("span").removeClass("active");
	        });
			$("#female").click( function () {
			    $(this).siblings("span").addClass("active");
			    $(this).parents("div").siblings("div").children("span").removeClass("active");
			});

            $("#agreement_content").click(function(){
            	$(".modal_agreement").show()
            });
            
            $("#close").click(function(){
            	$(".modal_agreement").hide()
            });
			
	   		 $("#Resultinquiry").click(function(){
		      		$("#animationTipBox").show();
	     		$("#animationTipBox .dec_txt").text('成绩查询暂未开放，敬请期待 ')
	     		 setTimeout(function(){
	     			$("#animationTipBox").css("display","none");
	     			},
	     			3000)
			 })
		 
            $(".pay_choose a").click(function(){
            	$(this).children("img").show();
            	$(this).addClass("active").siblings().removeClass("active").children("img").hide();
            	
            	if($(this).hasClass("active")){
            		var Paytype = $(this).data("name")
            		
            		$("#type").val(Paytype)
            	}
            });

	   			
    };
    
    
    
    /**
     * upload组件初始化
     * 
     * @param {String} elem 上传区域dom节点
     * @param {String} img  上传显示图片dom节点
     * @param {Boolean} isAttTwo  是否是上传第二张图片 ，仅仅在上传身份证流程，且上传第二张背面时传true
     */
    function uploadCompomentInit(elem, img, isAttTwo) {
    	 vm.$nextTick(function() {
    		 layui.use('upload', function(){
    	            var $ = layui.jquery ,
    	            upload = layui.upload;
    	            var uploadInst = upload.render({
    	                elem: elem,
    	                url: '${ctx}/file/pc/upload',
    	                size:1024,
    	                before: function(obj){
    	                    obj.preview(function(index, file, result){
    	                        $(img).attr('src', result); //图片链接（base64）
    	                    });
    	                },
    	                done: function(res){
    	                    console.log(res);
    	                    　　                  //如果上传失败
    	                    if(res.resultCode != 200){
    	                        return layer.msg('上传失败');
    	                    }　  
    	                    //上传成功
    	                    var url = res.result.url;
    	                    console.log(url);
    	                    if(!isAttTwo) vueData.fromText.attOne = url;
    	                    else vueData.fromText.attTwo = url;
    	                },
    	            });
    	            console.log(uploadInst)
    	        }); 
    	 })
    };
    

    /**
     * 获取上传图片路径 
     * @param {Object} type 1: 身份证；  2：护照   3：军官证
     */
     function uploadCertificates(){
    	
    	var playerCerType = vueData.fromText.playerCerType
    	console.log(playerCerType)
        if(playerCerType === 1) {
            uploadCompomentInit('#uploadone-sf1', '#demo3');
            uploadCompomentInit('#uploadone-sf2', '#demo4', true);
        }else if(playerCerType === 2) {
            uploadCompomentInit('#uploadone-hz', '#demo5');
        }else {
            uploadCompomentInit('#uploadone-jz', '#demo2');
        }
    };
    
     
	//表单验证规则初始化
	function validateInit() {
	    /*/^0?1[3|4|5|8][0-9]\d{8}$/*/
	    $.mvalidateExtend({
	    	playerPhone:{
                required : true,   
                pattern : /^((13[0-9])|(14[5,7])|(15[0-3,5-9])|(17[0,3,5-8])|(18[0-9])|166|198|199|(147))\d{8}$/,
                each:function(){                  
                },
                descriptions:{
                    required : '<div class="field-invalidmsg">请输入手机号码</div>',
                    pattern : '<div class="field-invalidmsg">手机号码格式不正确</div>',
                    valid : '<div class="field-validmsg"></div>'
                }
            },
            leaderPhone:{
                required : true,   
                pattern : /^((13[0-9])|(14[5,7])|(15[0-3,5-9])|(17[0,3,5-8])|(18[0-9])|166|198|199|(147))\d{8}$/,
                each:function(){                  
                },
                descriptions:{
                    required : '<div class="field-invalidmsg">请输入手机号码</div>',
                    pattern : '<div class="field-invalidmsg">手机号码格式不正确</div>',
                    valid : '<div class="field-validmsg"></div>'
                }
            },
            playerEmergencyPhone:{
                required : true,   
                pattern : /^((13[0-9])|(14[5,7])|(15[0-3,5-9])|(17[0,3,5-8])|(18[0-9])|166|198|199|(147))\d{8}$/,
                each:function(){                  
                },
                descriptions:{
                    required : '<div class="field-invalidmsg">请输入手机号码</div>',
                    pattern : '<div class="field-invalidmsg">手机号码格式不正确</div>',
                    valid : '<div class="field-validmsg"></div>'
                }
            },
            playerWeight:{
                required : true, 
                pattern : /^[0-9]*$/,
                descriptions:{
                    required : '<div class="field-invalidmsg">请输入体重 </div>',
                    pattern : '<div class="field-invalidmsg">只能输入数字</div>',
                    valid : '<div class="field-validmsg"></div>'
                }
            },
            playerHeight:{
                required : true, 
                pattern : /^[0-9]+.?[0-9]*$/,
                descriptions:{
                    required : '<div class="field-invalidmsg">请输入身高</div>',
                    pattern : '<div class="field-invalidmsg">只能输入数字</div>',
                    valid : '<div class="field-validmsg"></div>'
                }
            },
            
            email:{
                required : true, 
                pattern : /^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/,
                descriptions:{
                    required : '<div class="field-invalidmsg">请输入邮箱 </div>',
                    pattern : '<div class="field-invalidmsg">邮箱格式错误 </div>',
                    valid : '<div class="field-validmsg"></div>'
                }
            },
        });
	} 

	
	     // 团队信息表单提交 
	     function teamFromSumit(){
	    	 $("#entyr_from").mvalidate({
		            type: 2,
		            onKeyup: true,
		            sendForm: true,
		            firstInvalidFocus: true,
		            valid: function(event,options){

		            
		                //点击提交按钮时,表单通过验证触发函数
		                console.log("验证通过 ");
		                event.preventDefault();	   			 
		                //调用所有验证为空的方法,为true表示没有为空的数据,直接提交后台
		                
		               /*  validSuccess();   //，提交数据到后台 */
		                
		     			 if($('#awesome').is(':checked')){
			   				 console.log("gouxuan");
			   				$("#Agreement").hide()
						 } else {
							 console.log("meigouxian")
						       $("#Agreement").show()
							 return false;
						 }  
		                
		               if(vueData.groupLimit == 0 && vueData.groupMsy.length < 2){
		            	   $("#animationTipBox").show();
		   	     		  $("#animationTipBox .dec_txt").text('成员信息不能少于2条 ')
		   	     		 setTimeout(function(){
		   	     			$("#animationTipBox").css("display","none");
		   	     			},
		   	     			3000)
		            	   return;
		               }
						 
		                $.ajax({
			                 url:  "${ctx}/order/commit/group",
			                 data:vueData.fromGroupText ,
			                 type: 'post',
			                 dataType: 'json',
			                 success: function(data) {		                	 			                			                	 			                	 			                
			                 	if(data.resultCode!=200){
			                 		var errMsg = data.resultMsg;
			                 		if(data.resultCode==206){
			                 			//验证码错误
			                 			console.log('206'+errMsg);
			                 			 $("#verifyCode-description").html(errMsg) 
			                 			 	$('html , body').animate({scrollTop: 0});
			  	                 			$("#verifyCode").focus(function(){
			                 				
			                 			     if(($("#verifyCode").val()).length!=0){
			                 			     
			                 			    	$("#verifyCode-description").html('') 
			                 			     }		                 				
			                 				
			                 			});
		
			                 			 
			                 			return ;
			                 		}
			                 		if(data.resultCode==202){
		                    		
		                    		     $("#animationTipBox").show();
			       		        		$("#animationTipBox .dec_txt").text(errMsg);
			       		        		 $('html , body').animate({scrollTop: 0});
			       		        		 setTimeout(function(){
			       		        			$("#animationTipBox").css("display","none");
			       		        			},
			       		        			3000)
		                    			
		                    			return ;
		                    		}
			                 		$(".alert").html(errMsg).show();
			                 	}else{
			                 		var url = data.result.url
			                 		console.log("提交成功" + url)
			                 		
			                        window.location.href="${ctx}" + url;                    		
			                 	}
			                 }
			             });

		                

		                
		            },
		            invalid: function(event, status, options){
		                //点击提交按钮时,表单未通过验证触发函数
		               
		            },
		            conditional: {
		            	verifyCode: function(val) {
		//                console.log('请求接口，验证验证码是否正确，返回true或者false'); 	                    	                       
		                    console.log('验证码===='+val);
		                    if(!val && !val.length) return false;
		                    return true;
		                }
		            },
		            descriptions:{
		            	teamName:{
		                	 required : '<div class="field-invalidmsg">请输入团队名称 </div>',
		                     valid : '<div class="field-validmsg"></div>'
		                },
		                leaderName:{
		                	 required : '<div class="field-invalidmsg">请输入领队姓名</div>',
		                     valid : '<div class="field-validmsg"></div>'
		                },
		                verifyCode2:{
	                    	 required : '<div class="field-invalidmsg">请输入验证码</div>',
	                    	 conditional:'<div class="field-invalidmsg">您输入的验证码不正确</div>',
	                    	 valid : '<div class="field-validmsg"></div>'
		                },	              
		            }
		        })
		
	     }
	
	
	
        // 弹框添加团队人员信息表单提交 
	    function entyr_from_group(){
        
		   $("#entyr_from_group").mvalidate({
	            type: 2,
	            onKeyup: true,
	            sendForm: true,
	            firstInvalidFocus: true,
	            valid: function(event, options){
	            
	                //点击提交按钮时,表单通过验证触发函数
	                console.log("普通验证通过");

	                event.preventDefault();	   			 
	                //调用所有验证为空的方法,为true表示没有为空的数据,直接提交后台
	                
	                for(var i = 0; i < vueData.formTextExtPro.length; i++) {
	                	var item = vueData.formTextExtPro[i];
	                	
	                	if(item.isRequired && !item.data.trim()) {

	                		$("#expandsId-description").text(item.name + '不能为空')

	                		return 0;
	                	}
	                }
	                

	                var extpro = vueData.formTextExtPro.map(function(h) {
	                	var item = {};
	                	item[h.name] = h.data;
	                	return item;
	                });
	                
	                vueData.fromText.extPro = JSON.stringify(extpro);
	                console.log(vueData.fromText);
	                
	                $.ajax({
	                    url:  "${ctx}/order/save/team/member",
	                    data: vueData.fromText ,
	                    type: 'post',
	                    dataType: 'json',
	                    success: function(data) {	
	                    	console.log(data);
	                    	
	                    	if(data.resultCode!=200){
	                    		var errMsg = data.resultMsg;
	                    		if(data.resultCode==206){
	                    			//验证码错误
	                    			console.log('206'+errMsg);
	                    			 $("#verifyCode-description").html(errMsg) 
	                    			 	$('html , body').animate({scrollTop: 0});
	       	                 			$("#verifyCode").focus(function(){
	                    				
	                    			     if(($("#verifyCode").val()).length!=0){
	                    			     
	                    			    	$("#verifyCode-description").html('') 
	                    			     }		                 				
	                    				
	                    			});

	                    			 
	                    			return ;
	                    		}
	                    		if(data.resultCode==207){
	                    			//证件号码错误
	                    			console.log('207'+errMsg)
	                    			$("#playerCerNo-description").html(errMsg)
	                    			$('html , body').animate({scrollTop: 0});
	                      			$("#playerCerNo").focus(function(){
	                    				
	                    			     if(($("#playerCerNo").val()).length!=0){
	                    			     
	                    			    	$("#playerCerNo-description").html('') 
	                    			     }		                 				
	                    				
	                    			});
	                    			return ;
	                    		}	
	                     		if(data.resultCode==202){
	                    			//证件号码错误
	                    		     $("#animationTipBox").show();
	       		        		$("#animationTipBox .dec_txt").text(errMsg);
	       		        		 $('html , body').animate({scrollTop: 0});
	       		        		 setTimeout(function(){
	       		        			$("#animationTipBox").css("display","none");
	       		        			},
	       		        			3000)
	                    			
	                    			return ;
	                    		}
	                    		$(".alert").html(errMsg).show();
	                    	}else{
	                    		console.log("提交成功 ")
	                    		
	                    		vueData.isShowModal = false;
	
	                    		vueData.successData = data.result.player
	                    		console.log(data.result.player)
	                    		console.log(vueData.successData)
	                    		
	                    		
	                    		if(vueData.addType == 'edit') {
	                    			vueData.groupMsy.forEach(function(f, n) {
		                    			if(f.playerCode == data.result.player.playerCode) vueData.groupMsy.splice(n, 1, data.result.player);
		                    		});
	                    		}else {
	                    			vueData.groupMsy.push(data.result.player);
	                    		}
	                    		
	                    		clearOrder();
	                    	}
	                    }
	                });
	            },
	            invalid: function(event, status, options){
	            	console.log('验证不通过')
	                //点击提交按钮时,表单未通过验证触发函数
	            },
	            conditional: {
	            	verifyCode: function(val) {
	//                console.log('请求接口，验证验证码是否正确，返回true或者false'); 	                    	                       
	                    console.log('验证码===='+val);
	                    if(!val && !val.length) return false;
	                    return true;
	                }
	            },
	            descriptions:{
	                playerName:{
	                	 required : '<div class="field-invalidmsg">请输入用户名</div>',
	                     valid : '<div class="field-validmsg"></div>'
	                },
	                sex:{
	                    required : '<div class="field-invalidmsg">请输入性别</div>',
	                    valid : '<div class="field-validmsg"></div>'
	                },
	                verifyCode:{
                    	 required : '<div class="field-invalidmsg">请输入验证码</div>',
                    	 conditional:'<div class="field-invalidmsg">您输入的验证码不正确</div>',
                    	 valid : '<div class="field-validmsg"></div>'
	                },
	                email:{
	                	 required : '<div class="field-invalidmsg">请输入邮箱地址</div>',
	                     valid : '<div class="field-validmsg"></div>'
	                },
	                playerHeight:{
                		 required : '<div class="field-invalidmsg">请输入请输入身高</div>',
	                     valid : '<div class="field-validmsg"></div>'
	                },
					playerNationality:{
				               		 required : '<div class="field-invalidmsg">请输入国籍</div>',
				                     valid : '<div class="field-validmsg"></div>'
					               },
					               playerBirthStr:{
	               		 required : '<div class="field-invalidmsg">请输入出生年月 </div>',
	                     valid : '<div class="field-validmsg"></div>'
		               },					               
	               playerNation:{
	               		 required : '<div class="field-invalidmsg">请输入民族</div>',
	                     valid : '<div class="field-validmsg"></div>'
		               },
		               playerWeight:{
		            	      required : '<div class="field-invalidmsg">请输入体重 </div>',
		                     valid : '<div class="field-validmsg"></div>'
		               },
					playerAddress:{
				               		 required : '<div class="field-invalidmsg">请输入联系地址</div>',
				                     valid : '<div class="field-validmsg"></div>'
					               },
				    playerCerType:{
	               		 required : '<div class="field-invalidmsg">请输入证件类型</div>',
	                     valid : '<div class="field-validmsg"></div>'
		               },
		               playerCerNo:{
	               		 required : '<div class="field-invalidmsg">请输入证件号码</div>',
	                     valid : '<div class="field-validmsg"></div>'
		               },
					playerBloodType:{
				               		 required : '<div class="field-invalidmsg">请输入联系血型</div>',
				                     valid : '<div class="field-validmsg"></div>'
					               },
					playerClothSize:{
				               		 required : '<div class="field-invalidmsg">请输入衣服尺寸</div>',
				                     valid : '<div class="field-validmsg"></div>'
					               },
					playerEmergencyName:{
				               		 required : '<div class="field-invalidmsg">请输入紧急联系人</div>',
				                     valid : '<div class="field-validmsg"></div>'
					               },
	                 playerWorkuUnit:{
				    	             required : '<div class="field-invalidmsg">请输入工作单位</div>',
				                     valid : '<div class="field-validmsg"></div>'
				                 } ,            
					               
					               
					playerEmergencyPhone:{
				               		 required : '<div class="field-invalidmsg">请输入紧急联系电话</div>',
				                     valid : '<div class="field-validmsg"></div>'
					               },
		               assettoId:{
		               		 required : '<div class="field-invalidmsg">请输入神力科莎游戏昵称</div>',
		                     valid : '<div class="field-validmsg"></div>'
			               },
			              				               						  		
			            expandsId:{
		               		 required : '<div class="field-invalidmsg">输入不能为空</div>',
		                     valid : '<div class="field-validmsg"></div>'
			               },
	            }
	        })
	
	       };


  
    
    /*  添加团队信息验证码  */
    
    function getCodeGroup(e){
	    var tel = $("#telNum").val();
        if(checkPhoneGroup()) {        	
        	if(btnDisable) return 0;
        	
        	getResultMethods1("${ctx}/user/send/sms/code", {playerPhone: tel}, function(d) {
    			if(d.resultCode ==200) {
    				console.log("团体 ")
    				resetCodeGroup(); //倒计时
    			}else {
    				validErrorMessage('发送失败,请稍后重试');
    				resetCode();
    			}
    		});
        }else {
            $('#tel').focus();
        }
    };
    
    //验证团体 手机号码
    function checkPhoneGroup(){
        var phone = $('#telNum').val().trim();//获取输入的手机号
        if(!phone.length) {
            validErrorMessage('请输入手机号码');
            return false;
        };
        if(!/^((13[0-9])|(14[5,7])|(15[0-3,5-9])|(17[0,3,5-8])|(18[0-9])|166|198|199|(147))\d{8}$/.test(phone)) {
            validErrorMessage('手机号码格式不正确');
            return false;
        }
        return true;
    };
    
    //手动触发验证
    function validErrorMessage(text) {
    	 var $container=$(' <div id="phone-description">'+text+'</div>');
        $container.appendTo($("#y_num")); 
         setTimeout(function(){
            $container.remove();
        },1200) 
    };
     
    function resetCodeGroup(){
        timeWaitGroup(60);
        btnDisable = true;
    };
    
    function timeWaitGroup(time) {
    	setTimeout(function() {
    		if(time >= 0) {
    			$('.yzm_g').html(time+"秒后重发").addClass('gray');
    			time--;
    			timeWaitGroup(time);
    		}else {
    			$('.yzm_g').html("发送验证码").removeClass('gray');
    			btnDisable = false;
    		}
    	}, 1000)
    };
	</script>
</html>
